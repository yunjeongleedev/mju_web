extends ../layout

block content
  .container
    h1.main-title= question.title

    .question.show
      img(src= question.imgURL alt="no image")
      br
      br
      div <공모요강, 응시대상>
        .content(style="word-wrap: break-word")= question.content
      hr
      div <주최사, 담당자>
        .manager(style="word-wrap: break-word")= question.manager
      hr
      div <접수시작일>
        .startDate(style="word-wrap: break-word")= question.startDate
      hr
      div <접수마감일>
        .endDate(style="word-wrap: break-word")= question.endDate
      //- include _question

      .buttons
        if currentUser
          button.btn.btn-info.question-like-btn(data-id=question.id) 
            span.for-loading #[i.fa.fa-spin.fa-refresh] Loading
            span #[i.fa.fa-thumbs-up] Like
          if question.author && question.author.id == currentUser.id
            | 
            a.btn.btn-outline-secondary(href=`/questions/${question.id}/edit`) 수정
            | 
            a.btn.btn-outline-danger.need-confirm-btn(href=`/questions/${question.id}?_method=delete`) 삭제
      
    if question.numAnswers > 0
      hr
      h3 #{question.numAnswers} 댓글
      .answers.show
        each answer in answers
          include _answer

    if currentUser
      form(action=`/questions/${question.id}/answers`, method='POST')
        .form-group
          label(for='answer') 내 댓글
          textarea.form-control(name="content", rows="5")
        button.btn.btn-info(type="submit") 댓글 등록


  script(src='/javascripts/question_client.js')